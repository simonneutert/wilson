# Wilson<!-- omit in toc -->

A simple terminal application that allows you to run through your multistep
OpenAI assistants.

> [!CAUTION]
> This tool currently is a Proof of Concept (Deno and Ink). It does not have any
> error handling or input validation. In its current state, it is not suitable
> for production use.
>
> It may grow as we go. But for now, it's good-enough¬Æ software for me.
>
> see: Ideas/Todos/Wishlist

---

üí° This is just a glorified API Client for OpenAI's GPT! üí£  
You are responsible for the costs you incur by using this software.  
And the responses are generated by OpenAI's GPT Model.  
You should not use this software, if you don't know that with AI comes great
responsibility. üï∑Ô∏èü¶∏

---

## Table of Contents<!-- omit in toc -->

- [Rationale](#rationale)
  - [Minimum Viable Product](#minimum-viable-product)
- [Requirements](#requirements)
  - [How it works](#how-it-works)
- [Examples](#examples)
- [Demo](#demo)
- [Create your own Assistant](#create-your-own-assistant)
  - [Create a new template using AI (Inception üôÉ)](#create-a-new-template-using-ai-inception-)
  - [Create a new Assistant by copying from a template](#create-a-new-assistant-by-copying-from-a-template)
- [üß† Template Assistants](#-template-assistants)
- [üß† Using Your Created Assistants](#-using-your-created-assistants)
  - [üìÅ Where Assistants Are Stored](#-where-assistants-are-stored)
  - [‚úçÔ∏è Rename Assistants for Clarity](#Ô∏è-rename-assistants-for-clarity)
  - [üöÄ Running an Assistant](#-running-an-assistant)
  - [Implemented Features](#implemented-features)
- [Write AI answers to a file?](#write-ai-answers-to-a-file)
- [Ideas/Todos/Wishlist](#ideastodoswishlist)
- [Developer README](#developer-readme)
- [ü§ù Contributions](#-contributions)
- [Legal Disclaimer](#legal-disclaimer)

---

## Rationale

Find yourself in a situation where you ask the AI questions in a thread-like
manner?  
Are you tired of coming up with the same questions over and over again?  
Or worse, you forget to ask the most important questions?

Give your thoughts a place to live and breathe.  
Store processes as recipes and never forget a question again.

### Minimum Viable Product

I wanted a simple way to create a multistep assistant that can help me develop a
roadmap for a problem.  
In a minute or two, one can setup a multistep assistant and interact with it in
the terminal.

<img src="./wilson_logo.webp" width="200" alt="Wilson Logo" align="Wilson Repository image: A volleyball with a face balancing on a paperclip" />

> Image created using ChatGPT - of course. ü§ñ

Wilson, named after the famous volleyball in the movie _Cast Away_.  
The image shows Wilson balancing on a paperclip, that is definitely not MS
Office's famous _Clippy_.  
Wilson - your trusty old sidekick, when you feel stranded.

## Requirements

Here's what you need to run Wilson:

- [Deno](https://deno.com/) v2.0.0 or higher
- An OpenAI API secret key
- copy the `.env.init` to `.env` and add your OpenAI API key
- Optional: [just](https://github.com/casey/just) for running the tasks

Software is not tested on Windows. üß®

### How it works

The assistant is more or less a cli wizard.

- it reads in a JSON file with the assistant's configuration
- it runs you through the inputs (select or input at the time)
- the collected data is structured and sent to OpenAI
- a thread with the assistant will be started
- the threads configured in the template will be run one by one
- eventually it prints the assistant's answers to your terminal

## Examples

Here are some examples of how you could use Wilson:

### IT Mentor (included)<!-- omit in toc -->

As a mentor, the AI can give you a series of handles to understand a complex
topic.

- Explain it to me like I'm five, in just a few sentences.
- What are the most important concepts?
- Give me what I need to know to be 80% proficient in this topic.

### Personal Trainer (as an exercise for you)<!-- omit in toc -->

As a personal trainer, the AI can help you create a workout plan.

- Provide a workout plan for the next 4 weeks.
- What are the most important exercises for my goals?
- What are the most common mistakes people make?
- Motivate me to stick to the plan.
- Add a 10 minute routine for when I'm short on time.

### Others<!-- omit in toc -->

Some inspiration, but probably you can think of a few more:

- Nutritionist
- Spiritual Leader
- Yoga Guru
- Financial Advisor ü§£
- ...

## Demo

Demo showcasing the CLI and every step of the AI Assistant's wizard:

![Demo gif animation of the CLI](demo.gif)

> This animation was created using
> [charmbracelet's vhs on GitHub](https://github.com/charmbracelet/vhs).

## Create your own Assistant

Currently there's no programmatic way to create your own assistant. üôÉ

### Create a new template using AI (Inception üôÉ)

`$ just compile` then `$ ./dist/wilson-create-assistant`

`$ just create-assistant` OR `$ deno task create-assistant`

Glimpse into
[assistants/template-inception.json](./assistants/template-inception.json) file
if like to know what this action is based on, other than the `demo.json`
template.

### Create a new Assistant by copying from a template

You can create your own assistant by creating a json file with the steps and
questions.

Start by copying the `assistants/templates/demo.json` to a
`assistants/templates/my_new_assistant.json` file and modify it to your needs.

The `demo.json` is a wizard that answers in tweets.

<details>

<summary>Click to see the JSON structure for the demo assistant</summary>

```json
{
  "assistant": {
    "id": "",
    "name": "Consultant Wizard",
    "instruction": "I am an author working on a novel. You are a wizard trained in all fields of magic. No boundaries exist to help me reach my fictional goals. Each of your answers must fit within 140 characters.",
    "threads": [
      "Can you share some wisdom on how to reach my goal(s)? It can be a different perspective, a trick, advice or a way to con.",
      "Invest and explain a spell that help me reach my goal(s).",
      "Provide a recipe for a potion that helps me reach my goal(s)."
    ]
  },
  "recipe": [
    {
      "attr": "timeline",
      "inputType": "select",
      "details": {
        "selectOptions": [
          {
            "label": "tactical",
            "value": "tactical"
          },
          {
            "label": "strategic",
            "value": "strategic"
          },
          {
            "label": "other",
            "value": "other"
          }
        ],
        "text": "Please select the best fitting scope/timeline",
        "summaryText": "The scope I need consulting on is"
      }
    },
    {
      "attr": "goals",
      "inputType": "input",
      "details": {
        "defaultValue": "",
        "text": "What do you need magical help with?",
        "summaryText": "I need magical help with"
      }
    }
  ]
}
```

</details>

### JSON Structure for Assistants<!-- omit in toc -->

See [assistants/template-inception.json](./assistants/template-inception.json)
for a detailed example.

#### Assistant<!-- omit in toc -->

The `assistant:` contains the information about the assistant.

- `id` - The id of the assistant. Will be automagically created for you from
 this template.
- `name` - The name of the assistant.
- `instruction` - The initial instruction for the assistant.
- `threads` - The list of threads the assistant will answer in context of the
 previous "thoughts".

#### Recipe<!-- omit in toc -->

The `recipe` is a list of steps the assistant will follow to build the
information you need and provide its answers.

Each step has the following structure:

- `attr` - The **unique** attribute the step will fill.
- `inputType` - The type of input the step will ask for: `[select, input]`
- `details` - The details of the step:

**if the `inputType` is `select`:**

- `selectOptions` - The list of options for the `select` input type.
- `text` - The question the assistant will ask.
- `summaryText` - How your input for the attr will be put in context.

**if the `inputType` is `input`:**

- `defaultValue` - The default value for the step.
- `text` - The question the assistant will ask.
- `summaryText` - How your input for the attr will be put in context.

### Running the assistant for the first time<!-- omit in toc -->

> Note: The assistant's id was an empty string.

`$ deno task run my_new_assistant.json`

After running the assistant for the first time, the assistant will create a new
file in `assistants/`.

Similar to `assistants/assistant_consultant_wizard_1730899839833.json`.  
The filename is the name of the assistant with a timestamp appended to it.

This will be the assistant you can use over and over again. This has the benefit
that you don't clutter your account with dead assistants (this will make Neo
happy, but you arent't doing your self a favor).

Rename the file to something more meaningful, e.g.
`assistants/assistant_consultant_wizard.json`.

And run the assistant with:

`$ deno task run assistants/assistant_consultant_wizard.json`

## üß† Template Assistants

Explore helpful template assistants located in the `assistants/templates/` directory.

One standout is the `it-mentor.json` assistant ‚Äî your personal guide to mastering complex tech topics like **Apache Kafka**.

To get started, simply run:

```bash
$ deno task run assistants/templates/it-mentor.json
```

Let the assistant walk you through the concepts step-by-step.\
You might be surprised by how much you learn ‚Äî after all, communication is one of the most important skills in software development.

> ‚òï **Pro tip:** Grab a coffee before you start ‚Äî this one's a deep dive.

## üß† Using Your Created Assistants

Whenever possible, **use an assistant you've already created**‚Äînot a template.

> **Note:** Every time you run a _template_, a brand new assistant is created.  
> While this isn‚Äôt necessarily a problem, it **can clutter your OpenAI account** with unused (or "dead") assistants.

---

### üìÅ Where Assistants Are Stored

Your configured assistants live in the `assistants/` directory.

Each file in this folder contains the assistant‚Äôs configuration, including its unique OpenAI `id`, which is required to run or update that specific assistant.

---

### ‚úçÔ∏è Rename Assistants for Clarity

By default, assistant files may have long, autogenerated names.  
You can safely rename them to something more meaningful:

```bash
$ mv assistants/assistant_consultant_wizard_1730899839833.json assistants/assistant_consultant_wizard.json
```

### üöÄ Running an Assistant

Once you've renamed your assistant config file, you can run it like this:

```bash
$ deno task run assistants/assistant_consultant_wizard.json
```

This will start the assistant specified in that JSON file.

Want me to help you build the whole README section by section with this level of polish? Just send over the next chapter.

## Features<!-- omit in toc -->

Explore the `justfile` for helpful commands to get started quickly with running and managing the project.

### Implemented Features

- ‚úÖ **TUI/CLI Interaction** ‚Äì Engage with a multistep assistant via a clean text interface.
- ‚úÖ **Conversation Editing & Replay** ‚Äì Review, modify, and replay previous assistant conversations.
- ‚úÖ **Multiple Assistants in Parallel** ‚Äì Run and interact with several assistants side by side.

## Tech Stack<!-- omit in toc -->

Made with [Deno](https://deno.com/) ü¶ï,
[Ink](https://github.com/vadimdemedes/ink) üåà and
[OpenAI's Client for Deno](https://github.com/openai/openai-deno-build) ü§ñ this
little code dump is more of a playground to get the hang of Deno and Ink.

## Write AI answers to a file?

It is possible to write the AI answers to a file. Take this as an inspiration.

```bash
output=$(./dist/wilson-replay assistants/replays/Consultant\ Wizard/asst_12345abcdef/replay_consultant_wizard_1732099658202.json);
echo $output > answer.txt
```

## Ideas/Todos/Wishlist

- [ ] write a Dockerfile Readme about how to run the project in a container
- [ ] Add some tests
- [ ] load a previous conversation (replay) and make the answers the default
      values for interactive replay
- [ ] Add error handling
- [ ] Add input validation
- [ ] Add programmatic way to create your own assistant
- [ ] Add more input types (e.g. `Multi select`)
- [ ] save the conversation to a file
- [ ] when continuing development, add a CHANGELOG.md

---

Wilson - As a Game?

- [ ] [prompts](https://github.com/terkelg/prompts)
- [ ] read a bit more about [inkjs](https://github.com/y-lohse/inkjs)

## Developer README

See the [Developer README](./README.DEVELOPER.md) for more information.

## ü§ù Contributions

Let's chat first! ü§ì

Before diving in, please open an issue to discuss what you'd like to change or improve, and how you plan to contribute.

I'm confident we can find a great way to collaborate. It's important to me that we're on the same page and can work together in a fun and productive way.

Looking forward to building something awesome with you! üöÄ

## Legal Disclaimer

Wilson is for research and simulation only. Wilson is a research and
experimental technology, which relies on Artificial Intelligence (AI) models to
generate text content. The AI system output may include unrealistic,
inappropriate, harmful or inaccurate results, including factual errors. You are
responsible for reviewing the generated content (and adapting it if necessary)
before using it, as you are fully responsible for determining its accuracy and
fit for purpose. We advise using Wilson‚Äôs outputs for insight generation and not
for direct decision-making. Generated outputs do not reflect the opinions of the
developers/contributors. You are fully responsible for any use you make of the
generated outputs.

**PROHIBITED USES**: Wilson is not intended to simulate sensitive (e.g. violent
or sexual) situations. Moreover, outputs must not be used to deliberately
deceive, mislead or harm people in any way. You are fully responsible for any
use you make and must comply with all applicable laws and regulations.
